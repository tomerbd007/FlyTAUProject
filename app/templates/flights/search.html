{% extends "base.html" %}

{% block title %}Search Flights - FLYTAU{% endblock %}

{% block content %}
<style>
    .search-shell { max-width: 1100px; margin: 0 auto; padding: 0 16px 40px; }
    .search-hero {
        background: linear-gradient(135deg, #004b71 0%, #006a9e 100%);
        color: #fff;
        padding: 36px;
        border-radius: 14px;
        margin-bottom: 22px;
        box-shadow: 0 10px 28px rgba(0,0,0,0.12);
    }
    .search-hero h1 { margin: 0 0 8px 0; font-size: 2rem; }
    .search-hero p { margin: 0; opacity: 0.9; }
    .search-layout { display: grid; grid-template-columns: 2fr 1fr; gap: 18px; align-items: start; }
    .search-card { background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 8px 22px rgba(0,0,0,0.06); border: 1px solid #e8eff6; }
    .search-card h2 { margin: 0 0 12px 0; color: #004b71; }
    .search-form { display: grid; gap: 14px; }
    .search-grid { display: grid; gap: 12px; grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form-group label { font-weight: 700; color: #1c3d53; }
    .form-group select, .form-group input { padding: 12px; border: 1px solid #d6dde6; border-radius: 10px; font-weight: 600; color: #0f2f45; background: #f8fbfd; }
    .search-actions { display: flex; justify-content: flex-end; }
    .cta-btn { background: #004b71; color: #fff; padding: 12px 18px; border: none; border-radius: 10px; font-weight: 800; cursor: pointer; box-shadow: 0 8px 18px rgba(0,75,113,0.22); transition: transform 0.15s ease, box-shadow 0.15s ease; }
    .cta-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(0,75,113,0.28); }
    .side-panel { display: grid; gap: 12px; }
    .tip-card { background: #f8fbfd; border: 1px solid #e8eff6; border-radius: 12px; padding: 16px; color: #0f2f45; box-shadow: 0 6px 16px rgba(0,0,0,0.04); }
    .tip-card h3 { margin: 0 0 8px 0; color: #004b71; }
    .tip-list { margin: 0; padding-left: 20px; display: grid; gap: 6px; }
    .badges { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .badge { background: #e8f6ff; color: #0f2f45; padding: 6px 10px; border-radius: 999px; font-weight: 700; font-size: 0.85rem; }
    @media (max-width: 960px) { .search-layout { grid-template-columns: 1fr; } }
    @media (max-width: 640px) { .search-grid { grid-template-columns: 1fr; } .search-actions { justify-content: stretch; } .cta-btn { width: 100%; text-align: center; } }
</style>

<div class="search-shell">
    <div class="search-hero">
        <h1>Search Flights</h1>
        <p>Pick your route, date, and seats with the same calm, polished flow as My Account.</p>
    </div>

    <div class="search-layout">
        <div class="search-card">
            <h2>Plan your trip</h2>
            <form method="GET" action="{{ url_for('flight_search_results') }}" class="search-form">
                <div class="search-grid">
                    <div class="form-group">
                        <label for="origin">From</label>
                        <select id="origin" name="origin" required>
                            <option value="">Select origin airport</option>
                            {% for airport in airports %}
                            <option value="{{ airport.code }}" {% if request.args.get('origin') == airport.code %}selected{% endif %}>
                                {{ airport.city }} ({{ airport.code }})
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="destination">To</label>
                        <select id="destination" name="destination" required>
                            <option value="">Select destination airport</option>
                            {% for airport in airports %}
                            <option value="{{ airport.code }}" {% if request.args.get('destination') == airport.code %}selected{% endif %}>
                                {{ airport.city }} ({{ airport.code }})
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="date">Departure Date</label>
                        <input type="date" id="date" name="date" required min="{{ today }}" value="{{ request.args.get('date', '') }}">
                    </div>
                    <div class="form-group">
                        <label for="passengers">Passengers</label>
                        <select id="passengers" name="passengers">
                            {% for i in range(1, 10) %}
                            <option value="{{ i }}" {% if request.args.get('passengers', '1')|int == i %}selected{% endif %}>
                                {{ i }} {{ 'passenger' if i == 1 else 'passengers' }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="search-actions">
                    <button type="submit" class="cta-btn">Search Flights</button>
                </div>
            </form>
        </div>

        <div class="side-panel">
            <div class="tip-card">
                <h3>Travel tips</h3>
                <ul class="tip-list">
                    <li>Book early for the best fares.</li>
                    <li>Flexible dates unlock cheaper options.</li>
                    <li>Cancel up to 36 hours before departure.</li>
                </ul>
                <div class="badges">
                    <span class="badge">Secure checkout</span>
                    <span class="badge">Seat selection</span>
                    <span class="badge">Instant receipt</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
